<!DOCTYPE html>
<html lang="el">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<title>To Do List</title>
<style>
html {
  scroll-behavior: smooth;
}

body {
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  line-height: 1.4;
  margin: 0;
  min-width: 250px;
  transition: background 0.3s, color 0.3s;
}

* {
  box-sizing: border-box;
}

ul {
  margin: 0;
  padding: 0;
}

ul li {
  cursor: pointer;
  position: relative;
  padding: 12px 8px 12px 40px;
  list-style-type: none;
  background: #eee;
  font-size: 18px;
  transition: background 0.3s, color 0.3s;
  user-select: none;
}

ul li:nth-child(odd) {
  background: #f9f9f9;
}

ul li:hover {
  background: #ddd;
}

ul li.checked {
  background: #888;
  color: #fff;
  text-decoration: line-through;
}

ul li.checked::before {
  content: '';
  position: absolute;
  border-color: #fff;
  border-style: solid;
  border-width: 0 2px 2px 0;
  top: 10px;
  left: 16px;
  transform: rotate(45deg);
  height: 15px;
  width: 7px;
}

.close {
  position: absolute;
  right: 0;
  top: 0;
  padding: 12px 16px;
  cursor: pointer;
  transition: background 0.3s, color 0.3s;
}

.close:hover {
  background-color: rgb(44, 124, 151);
  color: white;
}

/* ----- HEADER ----- */
.header {
  background-color: rgb(44, 124, 151);
  padding: 20px 40px;
  color: white;
  font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
  text-align: center;
}

.header h2 {
  margin: 0 0 15px 0;
  font-size: 28px;
}

/* Row ŒºŒµ input Œ∫Œ±Œπ Œ∫ŒøœÖŒºœÄŒπŒ¨ */
.header .input-row {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
}

.header input {
  flex: 1 1 250px;
  padding: 10px;
  font-size: 16px;
  border-radius: 5px;
  border: none;
}

.header .addBtn,
.header #themeToggle {
  flex: 0 0 auto;
  padding: 10px 20px;
  font-size: 16px;
  border-radius: 5px;
  cursor: pointer;
}

/* ----- DARK MODE ----- */
body.dark-mode {
  background-color: #1f1f1f;
  color: white;
}

body.dark-mode ul li {
  background: #333;
  color: white;
}

body.dark-mode ul li:nth-child(odd) {
  background: #2a2a2a;
}

body.dark-mode .header {
  background-color: #222;
}

body.dark-mode .addBtn,
body.dark-mode #themeToggle {
  background-color: #555;
  color: white;
}

body.dark-mode .close:hover {
  background-color: #555;
  color: white;
}

/* ----- RESPONSIVE ----- */
@media screen and (max-width: 800px) {
  .header .input-row {
    flex-direction: column;
    align-items: stretch;
  }

  .header input,
  .header .addBtn,
  .header #themeToggle {
    width: 100%;
  }
}
</style>
</head>
<body>

<div class="header">
  <h2><b>To Do List</b></h2>
  <div class="input-row">
    <input type="text" id="myInput" placeholder="Title...">
    <span onclick="newElement()" class="addBtn">Add</span>
    <button id="themeToggle">üåô</button>
  </div>
</div>

<ul id="myUL"></ul>

<script>
// Œ£œÑŒøŒπœáŒµŒØŒ± DOM
const myUL = document.getElementById("myUL");
const myInput = document.getElementById("myInput");
const themeToggle = document.getElementById("themeToggle");

let todoList = [];

// ----------------- ŒëŒ†ŒüŒòŒóŒöŒïŒ•Œ£Œó / Œ¶ŒüŒ°Œ§Œ©Œ£Œó -----------------
function saveList() {
  localStorage.setItem("todoList", JSON.stringify(todoList));
}

function loadList() {
  const stored = localStorage.getItem("todoList");
  if (stored) {
    todoList = JSON.parse(stored);
  } else {
    // Œ†œÅŒøŒµœÄŒπŒªŒµŒ≥ŒºŒ≠ŒΩŒ± Œ±ŒΩœÑŒπŒ∫ŒµŒØŒºŒµŒΩŒ±
    todoList = [
      { text: "ŒúŒ±Œ∏Œ∑ŒºŒ±œÑŒπŒ∫Œ¨ - ŒöŒµœÜŒ¨ŒªŒ±ŒπŒø 1", checked: false },
      { text: "ŒúŒ±Œ∏Œ∑ŒºŒ±œÑŒπŒ∫Œ¨ - ŒöŒµœÜŒ¨ŒªŒ±ŒπŒø 2", checked: false },
      { text: "ŒúŒ±Œ∏Œ∑ŒºŒ±œÑŒπŒ∫Œ¨ - ŒöŒµœÜŒ¨ŒªŒ±ŒπŒø 3", checked: false },
      { text: "ŒàŒ∫Œ∏ŒµœÉŒ∑ - ŒõŒøŒ≥ŒøœÑŒµœáŒΩŒØŒ±", checked: false },
    ];
  }
  renderList();
}

// ----------------- ŒïŒúŒ¶ŒëŒùŒôŒ£Œó -----------------
function renderList() {
  myUL.innerHTML = "";

  todoList.forEach((item, index) => {
    const li = document.createElement("li");
    li.textContent = item.text;
    if (item.checked) li.classList.add("checked");

    // Œ∫ŒøœÖŒºœÄŒØ Œ¥ŒπŒ±Œ≥œÅŒ±œÜŒÆœÇ
    const span = document.createElement("SPAN");
    span.className = "close";
    span.textContent = "\u00D7";
    span.onclick = () => {
      todoList.splice(index, 1);
      saveList();
      renderList();
    };

    li.onclick = (ev) => {
      if (ev.target.tagName === "LI") {
        li.classList.toggle("checked");
        todoList[index].checked = li.classList.contains("checked");
        saveList();
      }
    };

    li.appendChild(span);
    myUL.appendChild(li);
  });
}

// ----------------- Œ†Œ°ŒüŒ£ŒòŒóŒöŒó ŒùŒïŒüŒ• -----------------
function newElement() {
  const inputValue = myInput.value.trim();
  if (!inputValue) {
    alert("You must write something!");
    return;
  }

  todoList.push({ text: inputValue, checked: false });
  myInput.value = "";
  saveList();
  renderList();
}

// Œ†œÅŒøœÉŒ∏ŒÆŒ∫Œ∑ ŒºŒµ Enter
myInput.addEventListener("keydown", function (event) {
  if (event.key === "Enter") {
    newElement();
  }
});

// ----------------- DARK MODE -----------------
function loadTheme() {
  if (localStorage.getItem("theme") === "dark") {
    document.body.classList.add("dark-mode");
    themeToggle.textContent = "‚òÄÔ∏è";
  }
}

themeToggle.addEventListener("click", () => {
  document.body.classList.toggle("dark-mode");
  const isDark = document.body.classList.contains("dark-mode");
  themeToggle.textContent = isDark ? "‚òÄÔ∏è" : "üåô";
  localStorage.setItem("theme", isDark ? "dark" : "light");
});


loadList();
loadTheme();
</script>

</body>
</html>
